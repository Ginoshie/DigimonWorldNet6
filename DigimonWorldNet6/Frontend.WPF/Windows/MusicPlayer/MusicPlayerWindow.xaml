<baseClasses:BaseWindow x:Class="DigimonWorld.Frontend.WPF.Windows.MusicPlayer.MusicPlayerWindow"
                        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                        xmlns:system="clr-namespace:System;assembly=System.Runtime"
                        xmlns:userControls1="clr-namespace:DigimonWorld.Frontend.WPF.Windows.MusicPlayer.UserControls"
                        xmlns:musicPlayer1="clr-namespace:DigimonWorld.Frontend.WPF.Windows.MusicPlayer"
                        xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
                        xmlns:baseClasses="clr-namespace:DigimonWorld.Frontend.WPF.Windows.BaseClasses"
                        mc:Ignorable="d"
                        d:DataContext="{d:DesignInstance Type=musicPlayer1:MusicPlayerViewModel, IsDesignTimeCreatable=True}"
                        ResizeMode="NoResize"
                        SizeToContent="WidthAndHeight"
                        WindowStyle="None"
                        AllowsTransparency="True"
                        Background="Transparent"
                        WindowStartupLocation="Manual">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../../ResourceDictionaries/Styles/Buttons/DefaultButtonStyle.xaml" />
                <ResourceDictionary Source="../../ResourceDictionaries/Styles/ToolTips/DefaultTooltipRightStyle.xaml" />
                <ResourceDictionary Source="../../ResourceDictionaries/Styles/ProgressBarStyle.xaml" />
                <ResourceDictionary Source="../../ResourceDictionaries/ControlTemplates/DefaultHorizontalSliderTemplate.xaml" />
                <ResourceDictionary Source="../../ResourceDictionaries/Styles/Buttons/DefaultToggleButtonStyle.xaml" />
                <ResourceDictionary Source="./Styles/VolumeMuteButtonStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <system:Double x:Key="ButtonDimension">40</system:Double>
            <system:Double x:Key="ButtonFontSize">25</system:Double>

        </ResourceDictionary>
    </Window.Resources>

    <Grid Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True" KeyboardNavigation.TabNavigation="None">
        <b:Interaction.Triggers>
            <b:EventTrigger EventName="MouseDown">
                <b:InvokeCommandAction Command="{Binding DragCommand}" />
            </b:EventTrigger>
        </b:Interaction.Triggers>
        <Grid.RowDefinitions>
            <RowDefinition Height="37" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <Border Background="Transparent" Grid.Row="0" Grid.ColumnSpan="2" Height="50">
            <Grid Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="15" />
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="1" Width="60" Height="50" Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True">
                    <Border CornerRadius="8" BorderBrush="Black" BorderThickness="3" Background="Black"
                            ToolTipService.InitialShowDelay="750">
                        <Border.ToolTip>
                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}">
                                <TextBlock Text="Click and hold to drag the application window" />
                            </ToolTip>
                        </Border.ToolTip>
                        <Border CornerRadius="8" BorderBrush="#4A9FC5" BorderThickness="3" Background="#4A9FC5">
                            <Border CornerRadius="5" BorderBrush="#90D9FA" BorderThickness="3" Background="#90D9FA">
                                <Border CornerRadius="5" BorderBrush="Black" BorderThickness="3" Background="#2E3841">
                                    <Border x:Name="InnerBorder" CornerRadius="5" BorderBrush="Transparent" BorderThickness="0" Background="#80000000" Opacity="0.5"
                                            Padding="0, 0, 0, 3">
                                        <TextBlock Text="âœ¥" HorizontalAlignment="Center" VerticalAlignment="Bottom"
                                                   FontSize="20" FontWeight="Bold" Foreground="White" />
                                    </Border>
                                </Border>
                            </Border>
                        </Border>
                    </Border>
                    <Grid.Triggers>
                        <EventTrigger RoutedEvent="UIElement.MouseEnter">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                     To="1.0" Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="UIElement.MouseLeave">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                     To="0.5" Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Grid.Triggers>
                </Grid>

                <Button Grid.Column="2" Width="60" Height="50" Background="Transparent" BorderBrush="Transparent" Command="{Binding MinimizeCommand}" IsTabStop="False">
                    <Button.ToolTip>
                        <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Minimize the application" />
                    </Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                <Border CornerRadius="8" BorderBrush="Black" BorderThickness="3" Padding="0" Background="Black">
                                    <Border CornerRadius="8" BorderBrush="#4A9FC5" BorderThickness="3" Padding="0" Background="#4A9FC5">
                                        <Border CornerRadius="5" BorderBrush="#90D9FA" BorderThickness="3" Padding="0" Background="#90D9FA">
                                            <Border CornerRadius="5" BorderBrush="Black" BorderThickness="3" Padding="0" Background="#2E3841">
                                                <Border x:Name="InnerBorder" CornerRadius="5" BorderBrush="Transparent" BorderThickness="0" Background="#80000000" Opacity="0.5">
                                                    <TextBlock Text="---" HorizontalAlignment="Center" VerticalAlignment="Bottom" FontSize="18" FontWeight="Bold" Foreground="White" />
                                                </Border>
                                            </Border>
                                        </Border>
                                    </Border>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                             To="1.0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                             To="0.5" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button Grid.Column="3" Width="60" Height="50" Background="Transparent" BorderBrush="Transparent" Command="{Binding CloseCommand}" IsTabStop="False">
                    <Button.ToolTip>
                        <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Close the application" />
                    </Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                <Border CornerRadius="8" BorderBrush="Black" BorderThickness="3" Padding="0" Background="Black">
                                    <Border CornerRadius="8" BorderBrush="#4A9FC5" BorderThickness="3" Padding="0" Background="#4A9FC5">
                                        <Border CornerRadius="5" BorderBrush="#90D9FA" BorderThickness="3" Padding="0" Background="#90D9FA">
                                            <Border CornerRadius="5" BorderBrush="Black" BorderThickness="3" Padding="0" Background="#2E3841">
                                                <Border x:Name="InnerBorder" CornerRadius="5" BorderBrush="Transparent" BorderThickness="0" Background="#80000000" Opacity="0.5">
                                                    <TextBlock Text="X" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" FontWeight="Bold" Foreground="White" />
                                                </Border>
                                            </Border>
                                        </Border>
                                    </Border>
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                             To="1.0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="InnerBorder" Storyboard.TargetProperty="Opacity"
                                                             To="0.5" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Border>

        <Border x:Name="OuterBorderWindow" Grid.Row="1" Grid.Column="1" Background="Transparent" Panel.ZIndex="1">
            <Border CornerRadius="8" BorderBrush="Black" BorderThickness="3">
                <Border CornerRadius="8" BorderBrush="#4A9FC5" BorderThickness="3">
                    <Border CornerRadius="5" BorderBrush="#90D9FA" BorderThickness="3">
                        <Border CornerRadius="5" BorderBrush="Black" BorderThickness="3" Background="#2E3841" Padding="10">

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="auto" />
                                </Grid.RowDefinitions>

                                <!-- Giromon narrator -->
                                <StackPanel Grid.Row="0" Orientation="Horizontal">
                                    <userControls1:GiromonNarrator />

                                    <StackPanel Orientation="Vertical" Margin="10, 0 ,0 , 0">
                                        <userControls1:GiromonNaratorTextDisplay />

                                        <!-- Volume section -->
                                        <Grid Margin="20, 0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <!-- Volume slider -->
                                            <StackPanel Grid.Column="0" Orientation="Vertical" HorizontalAlignment="Stretch" VerticalAlignment="Center" Width="150">

                                                <!-- Volume label -->
                                                <Grid HorizontalAlignment="Center">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0"
                                                               Foreground="#B3B5B1"
                                                               VerticalAlignment="Bottom"
                                                               TextAlignment="Right"
                                                               Margin="0,5">
                                                        Volume:&#160;
                                                    </TextBlock>

                                                    <TextBlock Grid.Column="1"
                                                               Foreground="#B3B5B1"
                                                               VerticalAlignment="Bottom"
                                                               HorizontalAlignment="Center"
                                                               Width="22"
                                                               Margin="0,5">
                                                        <Run Text="{Binding ElementName=VolumeSlider, Path=Value}" />
                                                    </TextBlock>
                                                </Grid>

                                                <!-- Volume slider -->
                                                <Slider x:Name="VolumeSlider"
                                                        Template="{StaticResource DefaultHorizontalSliderTemplate}"
                                                        Focusable="False" SnapsToDevicePixels="True"
                                                        Minimum="0"
                                                        Maximum="100"
                                                        Value="{Binding Volume, Mode=TwoWay}"
                                                        TickFrequency="10" IsSnapToTickEnabled="False"
                                                        IsMoveToPointEnabled="True"
                                                        VerticalAlignment="Center"
                                                        HorizontalAlignment="Stretch"
                                                        Margin="0,0, 10, 0" />
                                            </StackPanel>

                                            <!-- Volume mute button -->
                                            <Button Grid.Column="1" Style="{StaticResource VolumeMuteButtonStyle}"
                                                    Command="{Binding ToggleMuteEnabledCommand}"
                                                    FontSize="{StaticResource ButtonFontSize}"
                                                    Height="{StaticResource ButtonDimension}"
                                                    Width="{StaticResource ButtonDimension}"
                                                    Margin="0, 10, 0,10">
                                                <Button.ToolTip>
                                                    <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Mute/Unmute the musicplayer." />
                                                </Button.ToolTip>
                                            </Button>
                                        </Grid>
                                    </StackPanel>
                                </StackPanel>

                                <!-- Song title-->
                                <TextBlock Grid.Row="1"
                                           Text="{Binding CurrentSongTitle}"
                                           Foreground="#D6D6D8"
                                           FontSize="16"
                                           Margin="0, 0, 0, 10"
                                           TextWrapping="Wrap" />

                                <Grid Grid.Row="2" VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!-- Current position in song -->
                                    <TextBlock Grid.Column="0" Text="{Binding CurrentPositionString}"
                                               Foreground="#B3B5B1"
                                               Height="10"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="0,0,5,0" />

                                    <!-- Song progress bar -->
                                    <ProgressBar Grid.Column="1" Style="{StaticResource  CustomProgressBarStyle}"
                                                 Value="{Binding CurrentPosition}"
                                                 Height="10"
                                                 VerticalAlignment="Center"
                                                 HorizontalAlignment="Stretch"
                                                 Margin="0,0,0,0"
                                                 Minimum="0"
                                                 Maximum="{Binding SongLength}" />

                                    <!-- Total song length -->
                                    <TextBlock Grid.Column="2" Text="{Binding SongLengthString}"
                                               Foreground="#B3B5B1"
                                               Height="10"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               Margin="5,0,0,0" />
                                </Grid>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,10, 0, 0" HorizontalAlignment="Center">
                                    <!-- Shuffle button -->
                                    <Button Style="{StaticResource DefaultToggleButtonStyle}"
                                            Content="ðŸ”€"
                                            Command="{Binding ToggleShuffleCommand}"
                                            Height="{StaticResource ButtonDimension}"
                                            Width="{StaticResource ButtonDimension}"
                                            FontSize="{StaticResource ButtonFontSize}"
                                            Margin="0, 0, 15, 0"
                                            Tag="{Binding ShuffleEnabled}">
                                        <Button.ToolTip>
                                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}"
                                                     Content="Shuffle the playlist&#xD;&#xA;- ON: Play songs in a random order\&#xD;&#xA;- OFF: Play songs in consecutive order" />
                                        </Button.ToolTip>
                                    </Button>

                                    <!-- Previous track button -->
                                    <Button Style="{StaticResource DefaultButtonStyle}"
                                            Content="â®ï¸"
                                            Command="{Binding PreviousSongCommand}"
                                            Height="{StaticResource ButtonDimension}"
                                            Width="{StaticResource ButtonDimension}"
                                            FontSize="{StaticResource ButtonFontSize}"
                                            Margin="0, 0, 0, 0">
                                        <Button.ToolTip>
                                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Skip to the previous song" />
                                        </Button.ToolTip>
                                    </Button>

                                    <!-- Play/Pause button -->
                                    <Button Style="{StaticResource DefaultButtonStyle}"
                                            Content="â¯ï¸"
                                            Command="{Binding PlayPauseCommand}"
                                            Height="{StaticResource ButtonDimension}"
                                            Width="{StaticResource ButtonDimension}"
                                            FontSize="{StaticResource ButtonFontSize}"
                                            Margin="5, 0, 0, 0">
                                        <Button.ToolTip>
                                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Play/Pause the song" />
                                        </Button.ToolTip>
                                    </Button>

                                    <!-- Next track button -->
                                    <Button Style="{StaticResource DefaultButtonStyle}"
                                            Content="â­ï¸"
                                            Command="{Binding NextSongCommand}"
                                            Height="{StaticResource ButtonDimension}"
                                            Width="{StaticResource ButtonDimension}"
                                            FontSize="{StaticResource ButtonFontSize}"
                                            Margin="5, 0, 0, 0">
                                        <Button.ToolTip>
                                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}" Content="Skip to the next song." />
                                        </Button.ToolTip>
                                    </Button>

                                    <!-- Repeat button -->
                                    <Button Style="{StaticResource DefaultToggleButtonStyle}"
                                            Content="ðŸ”"
                                            Command="{Binding ToggleRepeatSingleSongCommand}"
                                            Height="{StaticResource ButtonDimension}"
                                            Width="{StaticResource ButtonDimension}"
                                            FontSize="{StaticResource ButtonFontSize}"
                                            Margin="15, 0, 0, 0"
                                            Tag="{Binding RepeatSingleSongEnabled}">
                                        <Button.ToolTip>
                                            <ToolTip Style="{StaticResource DefaultToolTipRightStyle}"
                                                     Content="Repeat all songs or repeat the current song.&#xD;&#xA;- ON: Repeat the current song&#xD;&#xA;- OFF: Repeat all songs" />
                                        </Button.ToolTip>
                                    </Button>

                                </StackPanel>
                            </Grid>

                        </Border>
                    </Border>
                </Border>
            </Border>
        </Border>
    </Grid>
</baseClasses:BaseWindow>